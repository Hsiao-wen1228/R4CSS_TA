---
title: "AS03_Know-Your-Data"
author: "你是誰 R09342000 新聞所碩五"
date: "2021/03/16"
output:
  html_document:
    number_sections: no
    theme: united
    highlight: tango
    toc: yes
    toc_depth: 4
    toc_float:
      collapsed: no
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, results = 'hold', comment = '#>', error = TRUE)
```

## 作業目的: Know Your Data

這份作業希望能夠讓你熟悉讀取不同檔案型態的資料，並利用 `dplyr` 與 管線運算子操作資料表，讓你可以認識自己要分析的資料！

## 作業: Know Your Data

滿分 100 分

### data importing & data manipulation (i) (50 分)

> The world cannot be understood without numbers. But the world cannot be understood with numbers alone.

― Hans Rosling, Factfulness (漢斯・羅斯林，《真確》)

[GapMinder Foundation](https://www.gapminder.org/tools/#$chart-type=bubbles) 是一個致力於「利用統計數字理解世界上各個國家社會、經濟、環境發展」的基金會，除了開發軟體視覺化呈現前述的統計數字以外，他們也將蒐集到的資料公開上網。

若你對他們做的事情有興趣，可以先看這一篇介紹文 [如何用 30 秒了解台灣發展與全球趨勢：用 GapMinder 培養正確世界觀](https://leemeng.tw/gapminder.html)。但跟文中所說不同的是，現在 GapMinder Foundation 已經有提供台灣的資料了！因此，底下我們將利用 R 語言，來探索這份資料。

1. data importing and renaming columns: 
請讀取請右方路徑的 csv 檔，路徑為 `data 資料夾 -> AS03 資料夾 -> gapminder_raw.tsv`，並取名為 `gapminder_raw`。這個檔案是 tsv 而非 csv，而且它的欄位名稱 (column names) 遺失了，請小心謹慎！將檔案讀進來之後，請依序更改 `gapminder_raw` 的欄位名稱成 country, continent, year, lifeExp(預期壽命), pop(人口數), gdpPercap(人均GDP)，括弧內是我的說明，請用英文命名欄位即可

```{r message=FALSE, warning=FALSE}
### your code
```

2. detecting NAs: `gapminder_raw` 當中有 missing value 嗎？請回報每個欄位的 missing value 情形，以及哪些國家有 missing value

```{r message=FALSE, warning=FALSE}
### your code

### your text (把文字描述寫在 code chunk 中)

```

3. checking on Taiwan: 篩選台灣的資料後，請用文字描述你的觀察，你看到了什麼？

```{r message=FALSE, warning=FALSE}
### your code

### your text
```

4. grouping and aggregating: 請計算各洲的平均預期壽命。務必考慮該如何處理 missing value，是要留著還是要刪掉？理由為何？

```{r message=FALSE, warning=FALSE}
### your code

### your text
```

5. creating variables and ordering: 請先計算**亞洲**各國 1972 年的總額 GDP (人口數 x 人均GDP)，再依照預期壽命**由大到小**排列，最後印出國家、總額 GDP、預期壽命三個欄位的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```

6. subsetting: 請先篩選出歐洲各國**各自人口最多**的年份(e.g. A國 1992 年的人口多於 2007, 2002, etc.，因此留下 A國 1992 年的資料)，接著再依照預期壽命篩選出最高的十個國家(e.g. A國 1992年人口最多, B國 2002年的人口最多，比較兩國這兩年各自的預期壽命)，然後依照國家名稱由 A 到 B 排列，最後印出國家、年份、預期壽命、人口數的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```

7. in-group comparing: 比較各國 1992 年和 2007 年的預期壽命差距，接著留下**各洲中**預期壽命差距最大與最小的國家，最後印出洲、國家、預期壽命差距的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```


### data importing & data manipulation (ii) (50 分)

PTT 上面有好幾個和影集(drama)有關的子板(board)，下方提供 03/02 當天所抓取的相關資料，請載入這份資料後回答問題。

1. data importing: 請讀取請右方路徑的 csv 檔，路徑為 `data 資料夾 -> AS03 資料夾 -> df_main_clean.csv`，並取名為 `df_main_clean`。

```{r message=FALSE, warning=FALSE}
### your code
```

2. counting: 這份資料來自好幾個不同的子板 e.g. 韓劇版，請問各子板各有多少篇文章？請印出 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```

3. in-group ordering: 每個子板最多留言的文章是哪些？請篩選出各板擁有最多留言文章的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```

4. transforming variables and counting: 文章類型(type)非常多樣，譬如"[心得]", "[閒聊]" 等，請保留"[心得]"、"[閒聊]"、"[新聞]"、"[情報]"，也保留"[LIVE]"與"[Live]"，剩下的都改成"[其他]"，修改後再計算各板的文章類型**比例**(百分比)。請注意文章類型欄位當中有 missing value！請印出結果的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```

5. subsetting and comparing: "2021-02-23"到"2021-03-01"之間(包含這兩天)，哪個板的文章數量最多？請印出結果的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```

6. in-group subsetting: 請找出各板中"發文數量最多的一天"當天留言數次多的文章，請印出結果的 tibble/dataframe

```{r message=FALSE, warning=FALSE}
### your code
```



